<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>tfg-congelador documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">tfg-congelador documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  FamiliaComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/familia/familia.component.ts</code>
</p>






<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-familia</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./familia.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./familia.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#authService" >authService</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Private</span>
                                <a href="#content" >content</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Private</span>
                                <a href="#content2" >content2</a>
                            </li>
                            <li>
                                <a href="#correctionLevel" >correctionLevel</a>
                            </li>
                            <li>
                                <a href="#elementType" >elementType</a>
                            </li>
                            <li>
                                <a href="#fId" >fId</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#firestoreService" >firestoreService</a>
                            </li>
                            <li>
                                <a href="#modalReference" >modalReference</a>
                            </li>
                            <li>
                                <a href="#nuevaFamilia" >nuevaFamilia</a>
                            </li>
                            <li>
                                <a href="#uid" >uid</a>
                            </li>
                            <li>
                                <a href="#usuarios" >usuarios</a>
                            </li>
                            <li>
                                <a href="#value" >value</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#actualizarFam" >actualizarFam</a>
                            </li>
                            <li>
                                <a href="#actualizarLista" >actualizarLista</a>
                            </li>
                            <li>
                                <a href="#cambiarFamilia" >cambiarFamilia</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, firestoreService: <a href="../injectables/FirestoreService.html" target="_self">FirestoreService</a>, modalService: NgbModal)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/familia/familia.component.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>This is a constructor function that takes in three parameters: authService, firestoreService, and
modalService.
authentication and authorization functionality in the application.
service that provides methods for interacting with the Firestore database in a Angular
application. It is likely injected into this constructor using Angular&#39;s dependency injection
system.
Angular. It allows for the creation and management of modal windows in an Angular application.
Modal windows are used to display content or prompts that require user interaction, and they
typically appear on top of the main application window. The modalService provides</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>An instance of the AuthService class, which likely handles
authentication and authorization functionality in the application.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>firestoreService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FirestoreService.html" target="_self" >FirestoreService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The <code>firestoreService</code> parameter is an instance of a
service that provides methods for interacting with the Firestore database in a Angular
application. It is likely injected into this constructor using Angular&#39;s dependency injection
system.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>modalService</td>
                                                  
                                                        <td>
                                                                    <code>NgbModal</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The modalService is a service provided by the NgbModal module in
Angular. It allows for the creation and management of modal windows in an Angular application.
Modal windows are used to display content or prompts that require user interaction, and they
typically appear on top of the main application window. The modalService provides</li>
</ul>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="actualizarFam"></a>
                    <span class="name">
                        <span ><b>actualizarFam</b></span>
                        <a href="#actualizarFam"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>actualizarFam()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="116"
                            class="link-to-prism">src/app/familia/familia.component.ts:116</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The function updates a family ID and value, clears the &quot;nuevaFamilia&quot; variable, and calls the &quot;actualizarLista&quot; function after a
delay.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="actualizarLista"></a>
                    <span class="name">
                        <span ><b>actualizarLista</b></span>
                        <a href="#actualizarLista"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>actualizarLista()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="108"
                            class="link-to-prism">src/app/familia/familia.component.ts:108</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The function updates a list of users/family members using data from Firestore.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cambiarFamilia"></a>
                    <span class="name">
                        <span ><b>cambiarFamilia</b></span>
                        <a href="#cambiarFamilia"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>cambiarFamilia()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="67"
                            class="link-to-prism">src/app/familia/familia.component.ts:67</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This function checks if a new family exists, and if it does, opens a modal for confirmation to
move or not move products and refrigerators to the new family, and updates the family and list
accordingly.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="50"
                            class="link-to-prism">src/app/familia/familia.component.ts:50</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The function retrieves the current user&#39;s ID and their associated family ID, and then updates a
list based on that family ID.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="authService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>authService</b></span>
                        <a href="#authService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/familia/familia.component.ts:42</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description">- An instance of the AuthService class, which likely handles
authentication and authorization functionality in the application.</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="content"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Private</span>
                        <span ><b>content</b></span>
                        <a href="#content"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;modal_cambio&#x27;, {static: false})<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/familia/familia.component.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="content2"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Private</span>
                        <span ><b>content2</b></span>
                        <a href="#content2"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;modal_no_existe&#x27;, {static: false})<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/familia/familia.component.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="correctionLevel"></a>
                    <span class="name">
                        <span ><b>correctionLevel</b></span>
                        <a href="#correctionLevel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>NgxQrcodeErrorCorrectionLevels.HIGH</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/familia/familia.component.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elementType"></a>
                    <span class="name">
                        <span ><b>elementType</b></span>
                        <a href="#elementType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>NgxQrcodeElementTypes.URL</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/familia/familia.component.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fId"></a>
                    <span class="name">
                        <span ><b>fId</b></span>
                        <a href="#fId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/familia/familia.component.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="firestoreService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>firestoreService</b></span>
                        <a href="#firestoreService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/FirestoreService.html" target="_self" >FirestoreService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/familia/familia.component.ts:42</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description">- The `firestoreService` parameter is an instance of a
service that provides methods for interacting with the Firestore database in a Angular
application. It is likely injected into this constructor using Angular's dependency injection
system.</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="modalReference"></a>
                    <span class="name">
                        <span ><b>modalReference</b></span>
                        <a href="#modalReference"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/familia/familia.component.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="nuevaFamilia"></a>
                    <span class="name">
                        <span ><b>nuevaFamilia</b></span>
                        <a href="#nuevaFamilia"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/familia/familia.component.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="uid"></a>
                    <span class="name">
                        <span ><b>uid</b></span>
                        <a href="#uid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/familia/familia.component.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="usuarios"></a>
                    <span class="name">
                        <span ><b>usuarios</b></span>
                        <a href="#usuarios"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/familia/familia.component.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="value"></a>
                    <span class="name">
                        <span ><b>value</b></span>
                        <a href="#value"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/familia/familia.component.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { AfterViewInit, Component, ElementRef, TemplateRef, ViewChild } from &#x27;@angular/core&#x27;;
import { FirestoreService } from &#x27;../shared/services/firestore.service&#x27;;
import { NgbModal } from &#x27;@ng-bootstrap/ng-bootstrap&#x27;;
import { AuthService } from &#x27;../shared/services/auth.service&#x27;;
import { NgxQrcodeElementTypes, NgxQrcodeErrorCorrectionLevels } from &#x27;@techiediaries/ngx-qrcode&#x27;;

@Component({
  selector: &#x27;app-familia&#x27;,
  templateUrl: &#x27;./familia.component.html&#x27;,
  styleUrls: [&#x27;./familia.component.scss&#x27;]
})

/* The FamiliaComponent class handles changing a user&#x27;s family and updating the list of family members. */
export class FamiliaComponent {
  @ViewChild(&#x27;modal_cambio&#x27;, { static: false }) private content: any;
  @ViewChild(&#x27;modal_no_existe&#x27;, { static: false }) private content2: any;

  nuevaFamilia &#x3D; &quot;&quot;;
  uid &#x3D; &quot;&quot;;
  fId &#x3D; &quot;&quot;;
  usuarios: any;
  modalReference: any;

  elementType &#x3D; NgxQrcodeElementTypes.URL;
  correctionLevel &#x3D; NgxQrcodeErrorCorrectionLevels.HIGH;
  value &#x3D; &#x27;&#x27;;

  /**
   * This is a constructor function that takes in three parameters: authService, firestoreService, and
   * modalService.
   * @param {AuthService} authService - An instance of the AuthService class, which likely handles
   * authentication and authorization functionality in the application.
   * @param {FirestoreService} firestoreService - The &#x60;firestoreService&#x60; parameter is an instance of a
   * service that provides methods for interacting with the Firestore database in a Angular
   * application. It is likely injected into this constructor using Angular&#x27;s dependency injection
   * system.
   * @param {NgbModal} modalService - The modalService is a service provided by the NgbModal module in
   * Angular. It allows for the creation and management of modal windows in an Angular application.
   * Modal windows are used to display content or prompts that require user interaction, and they
   * typically appear on top of the main application window. The modalService provides
   */
  constructor(public authService: AuthService, public firestoreService: FirestoreService, private modalService: NgbModal) {

  }

  /**
   * The function retrieves the current user&#x27;s ID and their associated family ID, and then updates a
   * list based on that family ID.
   */
  ngOnInit() {
    //Se obtiene el id de usuario actual
    let usuario &#x3D; this.authService.getUsuarioActual();
    this.uid &#x3D; usuario.uid;
    //Obtenemos la familia a la que pertenece ahora
    this.firestoreService.getFamiliaUsuario(this.uid).then((fId) &#x3D;&gt; {
      this.fId &#x3D; fId
      this.value &#x3D; this.fId;
      this.actualizarLista();
    });
  }

  /**
   * This function checks if a new family exists, and if it does, opens a modal for confirmation to
   * move or not move products and refrigerators to the new family, and updates the family and list
   * accordingly.
   */
  cambiarFamilia() {
    if (this.nuevaFamilia !&#x3D; &quot;&quot;) {
      this.firestoreService.familiaExiste(this.nuevaFamilia).then((existe) &#x3D;&gt; {
        if (existe) {
          //Si existe abrimos el modal de confirmación
          this.modalReference &#x3D; this.modalService.open(this.content);
          this.modalReference.result.then((result: any) &#x3D;&gt; {
            if (result &#x3D;&#x3D;&#x3D; &#x27;mover&#x27;) {
              //La cambiamos moviendo las neveras y productos
              this.firestoreService.cambiaFamiliaUsuario(this.uid, this.fId, this.nuevaFamilia, true);
              this.actualizarFam();             
              this.actualizarLista();
            } else {
              if (result &#x3D;&#x3D; &#x27;no_mover&#x27;) {
                //La cambiamos sin mover las neveras y productos
                this.firestoreService.cambiaFamiliaUsuario(this.uid, this.fId, this.nuevaFamilia, false);
                this.actualizarFam();
                this.actualizarLista();
              }
            }
          }, (reason: any) &#x3D;&gt; { });
        } else {
          //Si no existe abrimos el modal de aviso y creación de familia
          this.modalReference &#x3D; this.modalService.open(this.content2);
          this.modalReference.result.then((result: any) &#x3D;&gt; {
            // if (result &#x3D;&#x3D;&#x3D; &#x27;crear&#x27;) {
            //   console.log(&#x27;crear&#x27;)
            // } else {
            //   console.log(&#x27;no crear&#x27;)
            // }
          }, (reason: any) &#x3D;&gt; { });

        }
      })
    }
  }


 /**
  * The function updates a list of users/family members using data from Firestore.
  */
  actualizarLista() {
    this.firestoreService.listarFamiliares(this.fId).then(usuarios &#x3D;&gt; this.usuarios &#x3D; usuarios);
  }

  /**
   * The function updates a family ID and value, clears the &quot;nuevaFamilia&quot; variable, and calls the &quot;actualizarLista&quot; function after a
   * delay.
   */
  actualizarFam(){
    this.fId &#x3D; this.nuevaFamilia;
    this.value &#x3D; this.fId;
    this.nuevaFamilia&#x3D;&quot;&quot;;
    
    setTimeout(()&#x3D;&gt;{this.actualizarLista()}, 1000);
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;section class&#x3D;&quot;familia&quot;&gt;
    &lt;h1&gt;Familia&lt;/h1&gt;
    &lt;div class&#x3D;&quot;fam&quot;&gt;
        &lt;div class&#x3D;&quot;codigo&quot;&gt;
            &lt;ngx-qrcode
              [elementType]&#x3D;&quot;elementType&quot;
              [errorCorrectionLevel]&#x3D;&quot;correctionLevel&quot;
              [value]&#x3D;&quot;value&quot;
              alt&#x3D;&quot;Demo QR Code&quot;
              cssClass&#x3D;&quot;bshadow&quot; [width]&#x3D;500&gt;&lt;/ngx-qrcode&gt;
            
            &lt;p&gt;{{fId}}&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;familiares&quot;&gt;
            &lt;div class&#x3D;&quot;persona&quot; *ngFor&#x3D;&quot;let usuario of usuarios&quot;&gt;
                &lt;img src&#x3D;&quot;/assets/icons/user.png&quot;&gt;
                &lt;h2&gt;{{usuario.nombre}}&lt;/h2&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;cambio&quot;&gt;
        &lt;p&gt;Cambiar de familia&lt;/p&gt;
        &lt;input type&#x3D;&quot;text&quot; [(ngModel)]&#x3D;&quot;nuevaFamilia&quot; required/&gt;
        &lt;button (click)&#x3D;&quot;cambiarFamilia()&quot;&gt;Nueva familia&lt;/button&gt;
    &lt;/div&gt;
&lt;/section&gt;

&lt;!--Modal de confirmación de borrado--&gt;
&lt;ng-template #modal_cambio let-modal&gt;
	&lt;div class&#x3D;&quot;modal-header&quot;&gt;
		&lt;h4 class&#x3D;&quot;modal-title&quot; id&#x3D;&quot;modal_cambio&quot;&gt;Cambiar de familia&lt;/h4&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn-close&quot; aria-label&#x3D;&quot;Close&quot; (click)&#x3D;&quot;modal.dismiss()&quot;&gt;&lt;/button&gt;
	&lt;/div&gt;
	&lt;div class&#x3D;&quot;modal-body&quot;&gt;
		&lt;form&gt;
			&lt;div class&#x3D;&quot;mb-3&quot;&gt;
				&lt;p&gt;Cambiarás a la familia seleccionada, si no hay nadie más en la familia actual no podrá volver a ella.&lt;/p&gt;
                &lt;p&gt;¿Desea mover sus neveras y productos a la nueva nevera? Si lo hace se borrarán de esta.&lt;/p&gt;
			&lt;/div&gt;
		&lt;/form&gt;
	&lt;/div&gt;
	&lt;div class&#x3D;&quot;modal-footer&quot;&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-danger&quot; (click)&#x3D;&quot;modal.close(&#x27;mover&#x27;)&quot;&gt;Mover mis neveras&lt;/button&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-danger&quot; (click)&#x3D;&quot;modal.close(&#x27;no_mover&#x27;)&quot;&gt;No mover mis neveras&lt;/button&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-success&quot; (click)&#x3D;&quot;modal.dismiss()&quot;&gt;Cancelar&lt;/button&gt;
	&lt;/div&gt;
&lt;/ng-template&gt;

&lt;!--Modal de aviso--&gt;
&lt;ng-template #modal_no_existe let-modal&gt;
	&lt;div class&#x3D;&quot;modal-header&quot;&gt;
		&lt;h4 class&#x3D;&quot;modal-title&quot; id&#x3D;&quot;modal_no_existe&quot;&gt;Error&lt;/h4&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn-close&quot; aria-label&#x3D;&quot;Close&quot; (click)&#x3D;&quot;modal.dismiss()&quot;&gt;&lt;/button&gt;
	&lt;/div&gt;
	&lt;div class&#x3D;&quot;modal-body&quot;&gt;
		&lt;form&gt;
			&lt;div class&#x3D;&quot;mb-3&quot;&gt;
				&lt;p&gt;La familia introducida no existe.&lt;/p&gt;
			&lt;/div&gt;
		&lt;/form&gt;
	&lt;/div&gt;
	&lt;div class&#x3D;&quot;modal-footer&quot;&gt;
		&lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-outline-success&quot; (click)&#x3D;&quot;modal.dismiss()&quot;&gt;Aceptar&lt;/button&gt;
	&lt;/div&gt;
&lt;/ng-template&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./familia.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">@import &#x27;../../scss/mixin&#x27;;

.familia {
    @include flex(column, flex-start, flex-start);

    margin-left: 10vw;
    margin-right: 10vw;

    .fam {
        @include flex(row, center,flex-start);
        width: 100%;

        .codigo {
            @include flex(column);

            img{
                width: 30vw;
            }
        }


        .familiares {
            margin-left: 10vw;

            .persona {
                @include flex();
                margin-bottom: 3vh;

                img {
                    width: 5vw;
                }
            }

        }
    }

    .cambio{
        @include flex();
        align-self: center;
    }


}</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><section class="familia">    <h1>Familia</h1>    <div class="fam">        <div class="codigo">            <ngx-qrcode              [elementType]="elementType"              [errorCorrectionLevel]="correctionLevel"              [value]="value"              alt="Demo QR Code"              cssClass="bshadow" [width]=500></ngx-qrcode>                        <p>{{fId}}</p>        </div>        <div class="familiares">            <div class="persona" *ngFor="let usuario of usuarios">                <img src="/assets/icons/user.png">                <h2>{{usuario.nombre}}</h2>            </div>        </div>    </div>    <div class="cambio">        <p>Cambiar de familia</p>        <input type="text" [(ngModel)]="nuevaFamilia" required/>        <button (click)="cambiarFamilia()">Nueva familia</button>    </div></section><!--Modal de confirmación de borrado--><ng-template #modal_cambio let-modal>	<div class="modal-header">		<h4 class="modal-title" id="modal_cambio">Cambiar de familia</h4>		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>	</div>	<div class="modal-body">		<form>			<div class="mb-3">				<p>Cambiarás a la familia seleccionada, si no hay nadie más en la familia actual no podrá volver a ella.</p>                <p>¿Desea mover sus neveras y productos a la nueva nevera? Si lo hace se borrarán de esta.</p>			</div>		</form>	</div>	<div class="modal-footer">		<button type="button" class="btn btn-outline-danger" (click)="modal.close(\'mover\')">Mover mis neveras</button>		<button type="button" class="btn btn-outline-danger" (click)="modal.close(\'no_mover\')">No mover mis neveras</button>		<button type="button" class="btn btn-outline-success" (click)="modal.dismiss()">Cancelar</button>	</div></ng-template><!--Modal de aviso--><ng-template #modal_no_existe let-modal>	<div class="modal-header">		<h4 class="modal-title" id="modal_no_existe">Error</h4>		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>	</div>	<div class="modal-body">		<form>			<div class="mb-3">				<p>La familia introducida no existe.</p>			</div>		</form>	</div>	<div class="modal-footer">		<button type="button" class="btn btn-outline-success" (click)="modal.dismiss()">Aceptar</button>	</div></ng-template></div>'
    var COMPONENTS = [{'name': 'AddProductosAdminComponent', 'selector': 'app-add-productos-admin'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CabeceraComponent', 'selector': 'app-cabecera'},{'name': 'CajonComponent', 'selector': 'app-cajon'},{'name': 'CajonItemAddComponent', 'selector': 'app-cajon-item-add'},{'name': 'CajonItemComponent', 'selector': 'app-cajon-item'},{'name': 'CarouselComponent', 'selector': 'app-carousel'},{'name': 'FamiliaComponent', 'selector': 'app-familia'},{'name': 'InicioSesionComponent', 'selector': 'app-inicio-sesion'},{'name': 'LandingPageComponent', 'selector': 'app-landing-page'},{'name': 'NeveraComponent', 'selector': 'app-nevera'},{'name': 'NeveraItemComponent', 'selector': 'app-nevera-item'},{'name': 'NeverasComponent', 'selector': 'app-neveras'},{'name': 'PieComponent', 'selector': 'app-pie'},{'name': 'ProductoCajonComponent', 'selector': 'app-producto-cajon'},{'name': 'ProductoItemComponent', 'selector': 'app-producto-item'},{'name': 'ProductosFamComponent', 'selector': 'app-productos-fam'},{'name': 'PruebasComponent', 'selector': 'app-pruebas'},{'name': 'RegistroComponent', 'selector': 'app-registro'},{'name': 'SesionRegistroComponent', 'selector': 'app-sesion-registro'}];
    var DIRECTIVES = [{'name': 'NumerosdecimalesDirective', 'selector': '[appNumerosdecimales]'}];
    var ACTUAL_COMPONENT = {'name': 'FamiliaComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'FamiliaComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
